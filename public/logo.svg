<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512" fill="none">
  <defs>
    <!-- Bubble gradient -->
    <linearGradient id="bubbleGrad" x1="96" y1="144" x2="416" y2="368" gradientUnits="userSpaceOnUse">
      <stop offset="0" stop-color="#8B5CF6"/>
      <stop offset="1" stop-color="#4F46E5"/>
    </linearGradient>

    <!-- Shield gradient -->
    <linearGradient id="shieldGrad" x1="196" y1="168" x2="316" y2="312" gradientUnits="userSpaceOnUse">
      <stop offset="0" stop-color="#7C3AED"/>
      <stop offset="1" stop-color="#4338CA"/>
    </linearGradient>

    <!-- Soft shadow -->
    <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="10" stdDeviation="14" flood-color="#000" flood-opacity="0.25"/>
    </filter>
  </defs>

  <!-- Chat bubble -->
  <g filter="url(#softShadow)">
    <path
      d="M160 136H352C400.6 136 440 175.4 440 224V304C440 352.6 400.6 392 352 392H220.5L170 433.2C162.6 439.2 152 434 152 424.6V392H160C111.4 392 72 352.6 72 304V224C72 175.4 111.4 136 160 136Z"
      fill="url(#bubbleGrad)"
      opacity="0.98"
    />
    <!-- Inner gloss -->
    <path
      d="M170 160H342C378.5 160 408 189.5 408 226V262C408 270.8 400.8 278 392 278H120C111.2 278 104 270.8 104 262V226C104 189.5 133.5 160 170 160Z"
      fill="#FFFFFF"
      opacity="0.08"
    />
  </g>

  <!-- Shield -->
  <g filter="url(#softShadow)">
    <path
      d="M256 168C280 184 304 192 328 196V248C328 295.6 297.8 338.2 256 352C214.2 338.2 184 295.6 184 248V196C208 192 232 184 256 168Z"
      fill="url(#shieldGrad)"
    />
    <!-- Shield rim -->
    <path
      d="M256 182.5C276.7 195 297.4 201 318 204.3V248C318 289.9 292.3 325.7 256 338.3C219.7 325.7 194 289.9 194 248V204.3C214.6 201 235.3 195 256 182.5Z"
      fill="none"
      stroke="#FFFFFF"
      stroke-opacity="0.22"
      stroke-width="10"
    />

    <!-- Check mark -->
    <path
      d="M230 258.5L246.5 275L285.5 236"
      fill="none"
      stroke="#FFFFFF"
      stroke-width="18"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  </g>
</svg>